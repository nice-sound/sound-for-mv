<html>
<meta charset="UTF-8">
<script src="SoundSender.js"></script>
</head>

<body>
	<div>
		<label for="inputValue">JSON:</label>
		<input id="inputValue" type="text" size=100 oninput="encode()">
	</div>
	<div>
		<label for="outputValue">String:</label>
		<input id="outputValue" type="text" size=100 oninput="decode()">
	</div>
	<div>
		<label for="outputValue2">JSON:</label>
		<input id="outputValue2" type="text" size=100>
	</div>

	<script>
		function encode() {
			var value = document.getElementById('inputValue').value;
			try {
				value = JSON.parse(value);
				value = SoundSender.valueToString(value);
				document.getElementById('outputValue').value = `>${value}<`;
				decode(value);
			}
			catch {
				document.getElementById('outputValue').value = '';
				document.getElementById('outputValue2').value = '';
			}
		}
		function decode(value) {
			value = SoundSender.stringToValue(value);
			document.getElementById('outputValue2').value = JSON.stringify(value);
		}
	</script>
</body>

</html>